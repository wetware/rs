package wetware:rpc;

interface channel {
  use wasi:io/streams@0.2.6.{input-stream, output-stream};

  /// Returns a dedicated RPC channel backed by host-provided streams.
  ///
  /// The host hands out the transport at most once; subsequent calls
  /// return `none` to signal that the channel has already been claimed.
  get: func() -> option<tuple<input-stream, output-stream>>;
}

world wetware-host {
  import channel;
}

